---
sidebar_position: 1
title: ".NET SDK C#"
---

<a href="https://www.nuget.org/packages/cloudlayerio-dotnet/">
  <img src="https://buildstats.info/nuget/cloudlayerio-dotnet" />
</a>
<br />
<br />

`cloudlayerio-dotnet` is a **.NET 5** library. It gets used to automate and manipulate content such as PDF files and images. Using this library and cloudlayer.io service, you can convert HTML to PDF, HTML to Images, URLs to PDFs, URLs to images, and more.

## Installation

The `cloudlayerio-dotnet` library is bundled in a NuGet Package.

- [NuGet Package](https://www.nuget.org/packages/cloudlayerio-dotnet/)

### Visual Studio

- Using the [console](https://docs.microsoft.com/en-us/nuget/consume-packages/install-use-packages-powershell)

  - Run `Install-Package cloudlayerio-dotnet` in the console.

- Using the [NuGet Package Manager](https://docs.microsoft.com/en-us/nuget/consume-packages/install-use-packages-visual-studio)

  - Search this package [NuGet Package](https://www.nuget.org/packages/cloudlayerio-dotnet) and install it.

### JetBrains Rider

- <https://www.jetbrains.com/help/rider/Using_NuGet.html#>

### Other

- <https://docs.microsoft.com/en-us/nuget/consume-packages/overview-and-workflow#ways-to-install-a-nuget-package>

<!-- USAGE EXAMPLES -->

## Setup

### Get your API Key

1. To begin, you will need an API Key.
2. [Create a free account](https://cloudlayer.io/auth/register) at cloudlayer.io, giving you a chunk of free API credits to use for testing.

## Usage

### Initialize the Manager

```csharp
var manager = new CloudlayerioManager("<YOUR-API-KEY>");
```

### Convert URL to PDF

```csharp
var rsp = await manager.UrlToPdf(new UrlToPdf
{
    Url = "http://google.com"
});
```

The `rsp` is the [ReturnResponse](https://github.com/cloudlayerio/cloudlayerio-dotnet/blob/main/cloudlayerio-dotnet/responses/ReturnResponse.cs) type and will contain the `Stream` and several other properties, along with a helper method `SaveToFilesystem`. This method is a convenient method to make it easier to save the stream results to local storage.

### Save PDF to Local Storage

```csharp
await rsp.SaveToFileSystem("C:\myfile.pdf");
```

You, of course, can access the `Stream` property yourself and write your storage code that suits your needs.

### Passing in more options

In the previous example, we didn't pass in any optional parameters and left all the defaults. Take a look at all the options by looking at the [requests folder](https://github.com/cloudlayerio/cloudlayerio-dotnet/tree/main/cloudlayerio-dotnet/requests), which gives you a good idea of the available options for each endpoint.

### Url to Image With Options

```csharp
var rsp = await manager.UrlToImage(new UrlToImage {
    Url = "http://google.com",
    AutoScroll = true,
    ViewPort = new ViewPort {
        Height = 2560,
        Width = 1440,
        DeviceScaleFactor = 2
    }
});

await rsp.SaveToFilesystem("c:\google.png");
```

### Advanced Options

We have made it easy to pass in the more advanced options by creating types that correctly serialize, making it significantly easier for you to write the code and not worry about anything else.

```csharp
var rsp = new manager.UrlToPdf(new UrlToPdf {
    Url = "https://google.com",
    Margin = new Margin
    {
        Bottom = new LayoutDimension(UnitTypes.Pixels, 100),
        Top = new LayoutDimension(UnitTypes.Pixels, 100),
        Left = new LayoutDimension(UnitTypes.Pixels, 100),
        Right = new LayoutDimension(UnitTypes.Pixels, 100)
    },
    FooterTemplate = new HeaderFooterTemplate {
        Selector = "#myDiv",
        Style = new Dictionary<string, string>
        {
            ["padding-bottom"] = "10px",
            ["height"] = "40px"
        },
        ImageStyle = new Dictionary<string, string>
        {
            ["padding"] = "20px",
            ["border"] = "thick double red"
        }
    }
});
```

That's just an example of adding a bunch of options. For more information on what each option does, you can look at our [docs](https://cloudlayer.io/docs) or look at the source code as it's heavily commented on what each property does and how to use it. It will also show up as IntelliSense info as you use the properties.

## Source Code
The [source code](https://github.com/cloudlayerio/cloudlayerio-dotnet) for the SDK is available on GitHub.
